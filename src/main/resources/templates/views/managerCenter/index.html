<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link th:href="@{/resources/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/resources/font-awesome/css/font-awesome.css}" rel="stylesheet">
    <link th:href="@{/resources/css/animate.min.css}" rel="stylesheet">
    <link th:href="@{/resources/css/style.min.css}" rel="stylesheet">
    <!-- bootstrap-table -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" th:href="@{/assets/bootstrap-table/bootstrap-table.min.css}">
</head>

<body style="background-color: #f3f3f4">
<div class="container">
    <div id="toolbar">
        <form class="form-inline">
            <div class="input-group m-b">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#toolModal">产品新增</button>
            </div>
            <div class="input-group m-b">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#docModal">文案新增</button>
            </div>
            <div class="input-group m-b">
                <input type="text" class="form-control">
                <span class="input-group-btn">
                 <button type="button" class="btn btn-primary">搜索</button>
                </span>
            </div>
        </form>
    </div>
    <table id="table">
    </table>
    <!-- 产品模态框（Modal） -->
    <div class="modal fade" id="toolModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="toolModalLabel">模态框（Modal）标题</h4>
                </div>
                <div class="modal-body">在这里添加一些文本</div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary">提交更改</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
    <!-- 文案模态框（Modal） -->
    <div class="modal fade" id="docModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="docModalLabel">模态框（Modal）标题</h4>
                </div>
                <div class="modal-body">在这里添加一些文本</div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary">提交更改</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>
</div>


<!-- Mainly scripts -->
<!--[if !IE]> -->
<script th:src="@{/resources/js/jquery-2.2.4.min.js}" type="text/javascript"></script>
<script th:src="@{/resources/js/plugins/jeditable/jquery.jeditable.js}"></script>
<!-- <![endif]-->
<!--[if IE]>
<!--<script th:src="@{/resources/js/jquery-1.12.4.min.js}" type="text/javascript"></script>-->
<![endif]-->
<script th:inline="javascript" type="text/javascript">
    var ctx = /*[[@{/}]]*/'';
</script>
<script th:src="@{/resources/js/bootstrap.min.js}"></script>
<!-- jQuery UI -->
<script th:src="@{/resources/js/plugins/jquery-ui/jquery-ui.min.js}"></script>
<!--layer-->
<script th:src="@{/assets/layer/layer.js}"></script>
<!-- bootstrap-table -->
<script th:src="@{/assets/bootstrap-table/bootstrap-table.min.js}"></script>
<script th:src="@{/assets/bootstrap-table/bootstrap-table-zh-CN.js}"></script>

<script>
    $(function () {
        $("#table").bootstrapTable({
            url: ctx + 'modelCheck/list',
            method: "GET",
            height: $(window).height(),
            // striped: true,//树形表
            queryParams: queryParams,
            toolbar: '#toolbar',
            cache: false,  // 是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
            pagination: true,                   // 是否显示分页（*）
            sortable: true,                     // 是否启用排序
            sortOrder: "asc",                   // 排序方式
            sidePagination: "client",           // 分页方式：client客户端分页，server服务端分页（*）
            pageNumber: 1,                      // 初始化加载第一页，默认第一页,并记录
            pageSize: 10,                     // 每页的记录行数（*）
            pageList: [10, 25, 50, 100],        // 可供选择的每页的行数（*）
            showPaginationSwitch: false,			//显示 数据条数选择框
            search: false,                      // 是否显示表格搜索
            strictSearch: true,
            minimumCountColumns: 2,             // 最少允许的列数
            clickToSelect: true,                // 是否启用点击选中行
            idField: 'id',
            sortName: 'id',
            uniqueId: "id",                 // 每一行的唯一标识，一般为主键列
            cardView: false,                    // 是否显示详细视图
            detailView: true,                  // 是否显示父子表
            toolbarAlign: 'left',
            paginationPreText: '上一页',
            paginationNextText: '下一页',
            paginationLoop: false, //分页条无限循环的功能
            singleSelect: true,
            columns: [
                // {
                //     field: 'ck',
                //     checkbox: true
                // },
                {
                    field: 'colummName',
                    width: '10%',
                    title: '名称'
                }, {
                    field: 'errorDesc',
                    width: '20%',
                    title: '负责人/部门'
                },
                {
                    field: 'errorDesc',
                    width: '30%',
                    title: '更新时间'
                },
                {
                    field: 'errorDesc',
                    width: '10%',
                    title: '更新次数'
                },
                {
                    field: 'errorDesc',
                    width: '10%',
                    title: '状态'
                },
                {
                    field: 'errorDesc',
                    width: '20%',
                    title: '操作',
                    formatter: function (value, row, index) {
                        if (row.userInfo) {
                            return row.userInfo.userName;
                        } else {
                            return value;
                        }
                    }
                },
            ],
            // treeShowField: 'colummName',
            // parentIdField: 'pid',
            // onExpandRow: function (index, row, $detail) {
            //     InitSubTable(index, row, $detail);
            // },
        });

        //查询条件
        function queryParams(params) {
            var sourceType = $("#data_set").children("option:selected").val();
            var param = {   //这里的键的名字和控制器的变量名必须一直，这边改动，控制器也需要改成一样的
                sourceType: sourceType,
            };
            return param;
        }


    });


</script>
</body>
</html>
